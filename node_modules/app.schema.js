var mongoose = require('mongoose');
//mongoose.connect('mongodb://localhost:27017/Tutorial01');
mongoose.connect(process.env['DUOSTACK_DB_MONGODB']);

var Schema = mongoose.Schema,
        ObjectId = Schema.ObjectId;

var Record = new Schema({
  objectId      : ObjectId
  , title : { type : String, 'default': ''}
  , detail : { type : String, 'default': ''}
  , _created          : { type : Date, 'default': new Date()}
  , _updated          : { type : Date, 'default': new Date()}});

mongoose.model('Record', Record);

var models = null;

module.exports.getModels = function() {
  if (!models) {
    models = {
      Record : mongoose.model('Record')
    };

    return models
  }
};
